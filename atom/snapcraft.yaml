name: atom
version: "1.9.0"
summary: Atom Text Editor
description: Atom Text editor, from GitHub
confinement: strict

apps:
  atom:
    command: bin/wrapper
    plugs: [home, x11, unity7, gsettings, opengl, pulseaudio]

parts:
  atom:
    source: git://github.com/atom/atom
    plugin: nodejs
    gruntfile: build/Gruntfile.coffee
    build-packages: [build-essential, git, libgnome-keyring-dev, fakeroot]
    stage-packages:
      - gconf-service
      - gconf2
      - git
      - gvfs-bin
      - libasound2
      - libcap2
      - libgcrypt20
      - libgtk2.0-0
      - libnotify4
      - libnss3
      - libudev1
      - libxtst6
      - python
      - xdg-utils
  atom-copy:
    source: .
    plugin: copy
    files:
      wrapper: bin/wrapper
